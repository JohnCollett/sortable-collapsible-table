!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.csTable=e()}(this,function(){return function(t,e,n){let l={};l.elem=document.querySelector(t),l.elem.setAttribute("class","sc-table-holder"),l.rows=[],l.labels=[],l.sorted;const o=function(){let t=document.createElement("tr");return t.setAttribute("class",n.trClass?n.trClass:"sc-table-row"),t},a=function(){n.title||(n.title=`Data by ${l.labels[0]}`);let t=document.createElement("caption");t.setAttribute("class",n.titleClass?n.titleClass:"sc-table-title"),t.textContent=" [ - ] "+n.title;let e=0,o=0,a=!0,r=function(){let t=window.getComputedStyle(l.elem,null),e=t.getPropertyValue("transition-duration");return e=1e3*Number(e.substr(0,e.indexOf("s"))),console.log(t,e),e}();return t.addEventListener("click",function(){a?(e=t.clientHeight,o=t.parentNode.parentNode.clientHeight-e,t.textContent=" [ + ] "+n.title,t.parentNode.parentNode.style.height=t.parentNode.parentNode.clientHeight+"px",setTimeout(function(){t.parentNode.parentNode.style.height=e+"px"},100),setTimeout(function(){t.parentNode.querySelectorAll("tr").forEach(function(t){t.style.display="none"}),t.parentNode.parentNode.style.height="auto"},100+r)):(e=t.clientHeight,t.parentNode.parentNode.style.height=e+"px",t.textContent=" [ - ] "+n.title,t.parentNode.querySelectorAll("tr").forEach(function(t){t.style.display="table-row"}),setTimeout(function(){t.parentNode.parentNode.style.height=t.clientHeight+o+"px"},100),setTimeout(function(){t.parentNode.parentNode.style.height="auto"},100+r)),a=!a}),t},r=function(){let t=l.data.map(function(t){return t.ind}),e=l.elem.querySelector("table");t.forEach(function(t){e.appendChild(l.rows[t])})};return function(){if("object"==typeof e[0]&&null!==e[0]&&!1===Array.isArray(e[0]))l.data=e,l.labels=n.labels?n.labels:Object.keys(e[0]);else if(Array.isArray(e[0])){let t=e.reduce(function(t,e){return Math.max(t,e.length)},0);l.labels=n.labels?n.labels:function(t){let e=[];for(let n=0;n<t;n++)e.push("data"+n);return e}(e.length);let o=[];for(let n=0;n<t;n++){let t={};l.labels.forEach(function(l,o){e[o][n]&&(t[l]=e[o][n])}),o.push(t)}l.data=o}l.data.forEach(function(t,e){t.ind=e})}(),function(){const t=document.createElement("table");t.setAttribute("class",n.tableClass?n.tableClass:"sc-table");let e=a();t.appendChild(e);const i=o();l.labels.forEach(function(t){let e=function(t){let e=document.createElement("th");return e.setAttribute("class",n.thClass?n.thClass:"sc-table-header"),e.textContent=t,e}(t);e.addEventListener("click",function(){var n;n=t,l.sorted===n?(l.data.sort(function(t,e){return(t[n]+"").localeCompare(e[n]+"",void 0,{numeric:!0,sensitivity:"base"})}),l.sorted=""):(l.data.sort(function(t,e){return e[n]||t[n]?t[n]?e[n]?(e[n]+"").localeCompare(t[n]+"",void 0,{numeric:!0,sensitivity:"base"}):-1:1:0}),l.sorted=n),r(),i.childNodes.forEach(function(t,e){t.textContent=l.labels[e]}),l.sorted===t?e.textContent=t+" ▲":e.textContent=t+" ▼"}),i.appendChild(e)}),t.appendChild(i),l.data.forEach(function(e){let a=o();l.labels.forEach(function(t){let l=function(t){let e=document.createElement("td");return e.setAttribute("class",n.tdClass?n.tdClass:"sc-table-elem"),isNaN(t)?e.textContent=t:Number.isInteger(Number(t))?e.textContent=t:e.textContent=t.toFixed(n.decimalDigits?n.decimalDigits:2),e}(e[t]?e[t]:"");a.appendChild(l)}),l.rows.push(a),t.appendChild(a)}),l.elem.appendChild(t)}(),l}});